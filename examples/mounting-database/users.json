{
  "broker": {
    "credentials": {
      "username": "broker",
      "passphrase": "passphrase-to-hash"
    },
    "patterns": {
      "sendable": [
        {
          "topic": "authentication",
          "action": "get-user"
        },
        {
          "topic": "authentication",
          "action": "put-user"
        },
        {
          "topic": "presence",
          "action": "online"
        },
        {
          "topic": "presence",
          "action": "offline"
        }
      ],
      "receivable": [
        {
          "topic": "authentication",
          "action": "sign-in"
        },
        {
          "topic": "authentication",
          "action": "sign-out"
        }
      ]
    }
  },
  "authenticator": {
    "credentials": {
      "username": "authenticator",
      "passphrase": "passphrase-to-hash"
    },
    "patterns": {
      "sendable": [],
      "receivable": [
        {
          "topic": "authentication",
          "action": "get-user"
        },
        {
          "topic": "authentication",
          "action": "put-user"
        }
      ]
    }
  },
  "agent": {
    "credentials": {
      "username": "agent",
      "passphrase": "passphrase-to-hash"
    },
    "patterns": {
      "sendable": [],
      "receivable": [
        {
          "topic": "store",
          "action": "put",
          "collection": "tasks"
        },
        {
          "topic": "store",
          "action": "get",
          "collection": "tasks"
        },
        {
          "topic": "store",
          "action": "put",
          "collection": "patients"
        },
        {
          "topic": "store",
          "action": "get",
          "collection": "tasks",
          "match": {
            "done": true
          },
          "sort": {
            "label": true
          },
          "reduce": {
            "offset": 0,
            "limit": 5
          },
          "pluck": {
            "label": true
          }
        },
        {
          "topic": "store",
          "action": "get",
          "collection": "patients",
          "match": {
            "id": "25ad0dc5-2a43-4078-86f7-bc452d5ecd68"
          },
          "pluck": {
            "done": true
          }
        }
      ]
    }
  },
  "sender": {
    "credentials": {
      "username": "sender",
      "passphrase": "passphrase-to-hash"
    },
    "patterns": {
      "sendable": [
        {
          "topic": "store",
          "action": "put",
          "collection": "tasks"
        },
        {
          "topic": "store",
          "action": "get",
          "collection": "tasks"
        },
        {
          "topic": "store",
          "action": "put",
          "collection": "patients"
        },
        {
          "topic": "store",
          "action": "get",
          "collection": "tasks",
          "match": {
            "done": true
          },
          "sort": {
            "label": true
          },
          "reduce": {
            "offset": 0,
            "limit": 5
          },
          "pluck": {
            "label": true
          }
        },
        {
          "topic": "store",
          "action": "get",
          "collection": "patients",
          "match": {
            "id": "25ad0dc5-2a43-4078-86f7-bc452d5ecd68"
          },
          "pluck": {
            "done": true
          }
        }
      ],
      "receivable": []
    }
  }
}